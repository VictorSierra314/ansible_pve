---
enable_debug: true             # bool - default false - Enable/disable debug output
domain: ourcompany.com          # Company domain, used for all api call tasks
# List of flags for ceph. There is a 1min pause between each flag to let ceph settle.
# Pause must be the last one to run in any cases.
ceph_flags:
  - noout
  - nobackfill
  - norecover
  - norebalance
  - nodown
  - pause
# Set api variables based on the PVE cluster.
# Each cluster, dev / sandbox has its own api user.
# There is only 2 options possible, so I choose to not use the else. and have 2 if conditions.
pve_env: >-
  {{ 'dev' if inventory_hostname in groups['pve_hypervisor_dev']
     else 'sandbox' if inventory_hostname in groups['pve_hypervisor_sandbox']
  }}
pve_api_node_map:
  dev: pve-dev-master-01
  sandbox: pve-sdbx-master-01
pve_api_user_map:
  dev: test@pam
  sandbox: test@pam
pve_api_token_map:
  dev: test_token
  sandbox: test_token
pve_api_secret_map:
  dev: e4ae6d3c-a956-4656-8e45-d5e135de7733
  sandbox: e4ae6d3c-a956-4656-8e45-d5e135de7733
#  dev: !vault |
#    $ANSIBLE_VAULT;1.1;AES256
#    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#  sandbox: !vault |
#    $ANSIBLE_VAULT;1.1;AES256
#    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# Final variables
pve_api_node: "{{ pve_api_node_map[pve_env] | trim }}"
pve_api_user: "{{ pve_api_user_map[pve_env] | trim }}"
pve_api_token: "{{ pve_api_token_map[pve_env] | trim }}"
pve_api_secret: "{{ pve_api_secret_map[pve_env] }}"

pve_cert_validation: false              # bool - default false - Enable/disable https verification.
force_guest_shutdown_rightaway: false   # bool - default false - Force the guest stop right away.
